graph TB

    subgraph Controllers
        magic_online_metagame_crawler_controllers_app_controller["app_controller<br/>BackgroundWorker, AppController"]
    end

    subgraph Services
        magic_online_metagame_crawler_services_collection_service["collection_service<br/>CollectionStatus, CollectionService"]
        magic_online_metagame_crawler_services_deck_service["deck_service<br/>ZoneUpdateResult, DeckService"]
        magic_online_metagame_crawler_services_deck_research_service["deck_research_service<br/>DeckResearchService"]
    end

    subgraph Repositories
        magic_online_metagame_crawler_repositories_deck_repository["deck_repository<br/>DeckRepository"]
        magic_online_metagame_crawler_repositories_card_repository["card_repository<br/>CardRepository"]
        magic_online_metagame_crawler_repositories_metagame_repository["metagame_repository<br/>MetagameRepository"]
    end

    subgraph UI
        magic_online_metagame_crawler_widgets_app_frame["app_frame<br/>AppFrame"]
        magic_online_metagame_crawler_widgets_panels_deck_builder_panel["deck_builder_panel<br/>_SearchResultsView, DeckBuilderPanel"]
        magic_online_metagame_crawler_widgets_panels_card_table_panel["card_table_panel<br/>CardTablePanel"]
    end

    subgraph Utils
        magic_online_metagame_crawler_utils_archetype_classifier["archetype_classifier<br/>DeckEntry, Condition"]
        magic_online_metagame_crawler_utils_mtgo_bridge_client["mtgo_bridge_client<br/>BridgeCommandError, BridgeCommandFuture"]
        magic_online_metagame_crawler_utils_card_data["card_data<br/>CardDataManager"]
    end

    subgraph Navigators
        magic_online_metagame_crawler_navigators_mtggoldfish["mtggoldfish"]
    end

    %% Key Dependencies
    magic_online_metagame_crawler_controllers_app_controller --> magic_online_metagame_crawler_services_collection_service
    magic_online_metagame_crawler_controllers_app_controller --> magic_online_metagame_crawler_widgets_app_frame
    magic_online_metagame_crawler_services_collection_service --> magic_online_metagame_crawler_repositories_deck_repository
    magic_online_metagame_crawler_services_collection_service --> magic_online_metagame_crawler_utils_archetype_classifier
    magic_online_metagame_crawler_repositories_deck_repository --> magic_online_metagame_crawler_utils_archetype_classifier
    magic_online_metagame_crawler_repositories_deck_repository --> magic_online_metagame_crawler_navigators_mtggoldfish

    %% Styling
    classDef controller fill:#ff9999,stroke:#333,stroke-width:2px
    classDef service fill:#99ccff,stroke:#333,stroke-width:2px
    classDef repo fill:#99ff99,stroke:#333,stroke-width:2px
    classDef ui fill:#ffcc99,stroke:#333,stroke-width:2px
    classDef util fill:#cc99ff,stroke:#333,stroke-width:2px
    classDef nav fill:#ffff99,stroke:#333,stroke-width:2px
    class magic_online_metagame_crawler_controllers_app_controller controller
    class magic_online_metagame_crawler_services_collection_service service
    class magic_online_metagame_crawler_services_deck_service service
    class magic_online_metagame_crawler_services_deck_research_service service
    class magic_online_metagame_crawler_services_search_service service
    class magic_online_metagame_crawler_repositories_deck_repository repo
    class magic_online_metagame_crawler_repositories_card_repository repo
    class magic_online_metagame_crawler_repositories_metagame_repository repo
    class magic_online_metagame_crawler_widgets_app_frame ui
    class magic_online_metagame_crawler_widgets_panels_deck_builder_panel ui
    class magic_online_metagame_crawler_widgets_panels_card_table_panel ui
    class magic_online_metagame_crawler_widgets_handlers_card_table_panel_handler ui
    class magic_online_metagame_crawler_utils_archetype_classifier util
    class magic_online_metagame_crawler_utils_mtgo_bridge_client util
    class magic_online_metagame_crawler_utils_card_data util
    class magic_online_metagame_crawler_navigators_mtggoldfish nav